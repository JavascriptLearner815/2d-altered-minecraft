<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="description" content="This is my first actual game. Get ready for a really weird, altered Minecraft experience!">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="author" content="SpeedoThreeSixty (Dean Alan Summer)">
    <title>2D Altered Minecraft</title>
    <link rel="stylesheet" href="main.css">
    <link rel="shortcut icon" type="image/x-icon" href="minecraft.png">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    <script defer src="script.js"></script>
  </head>
  <body>
    <header>
      <h1>2D Altered Minecraft</h1>
      <nav>
        <a href="https://github.com/JavascriptLearner815/2d-altered-minecraft" target="_blank">GitHub</a>
      </nav>
    </header>
    <hr>
    <main id="main">
      <wbr>
      <div style="text-align:center;width:480px;">
        <button onmousedown="up()" onmouseup="stop()" ontouchstart="up()">UP</button>
        <button onmousedown="down()" onmouseup="stop()" ontouchstart="down()">DOWN</button>
        <button onmousedown="left()" onmouseup="stop()" ontouchstart="left()">LEFT</button>
        <button onmousedown="right()" onmouseup="stop()" ontouchstart="right()">RIGHT</button>
      </div>
    </main>
    <hr>
    <footer>
      <p>Â© SpeedoThreeSixty (Dean Alan Summer) 2021. This Project Is Under The MPL-2.0 License. For Unofficial Use Only. All Rights Reserved.</p>
    </footer>
    <script>
const main = document.getElementById("main")
let gamePiece
const gameArea = {
  canvas: document.createElement("canvas"),
  start() {
    this.canvas.width = 480
    this.canvas.height = 270
    this.context = this.canvas.getContext("2d")
    main.insertBefore(this.canvas, main.childNodes[0])
    this.interval = setInterval(updateGame, 20)
  },
  clear() {
    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)
  }
}

function startGame() {
  gameArea.start()
  gamePiece = new Component(30, 30, "red", 10, 120)
}

class Component {
  constructor(width, height, color, x, y) {
    this.width = width
    this.height = height
    this.speedX = 0
    this.speedY = 0
    this.color = color
    this.x = x
    this.y = y
  }
  update() {
    ctx = gameArea.context
    ctx.fillStyle = this.color
    ctx.fillRect(this.x, this.y, this.width, this.height)
  }
  newPos() {
    this.x += this.speedX
    this.y += this.speedY
  }
}

function updateGame() {
  gameArea.clear()
  gamePiece.newPos()
  gamePiece.update()
}

function up() {
  gamePiece.speedY -= 1
}

function down() {
  gamePiece.speedY += 1
}

function left() {
  gamePiece.speedX -= 1
}

function right() {
  gamePiece.speedX += 1
}

function stop() {
  gamePiece.speedX = 0
  gamePiece.speedY = 0
}

class Component {
  constructor(width, height, color, x, y) {
    this.width = width
    this.height = height
    this.speedX = 0
    this.speedY = 0
    this.color = color
    this.x = x
    this.y = y
  }
  update() {
    ctx = gameArea.context
    ctx.fillStyle = this.color
    ctx.fillRect(this.x, this.y, this.width, this.height)
  }
  newPos() {
    this.x += this.speedX
    this.y += this.speedY
  }
}
    </script>
  </body>
</html>
